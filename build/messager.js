window.Messager=function(){"use strict";var n="[PROJECT_NAME]",t="postMessage"in window,i=window.console||{log:function(n){window.alert(n)}},e=window.JSON||{stringify:function(n){},parse:function(n){}};if(!t&&!window.navigator.listenFunc){window.navigator.listenFunc={};window.navigator.userListen={}}function o(t,i,e){this.listenFunc=[];this.target=i;this.name=e;n=t||n;if(typeof n!=="string"){n=n.toString()}this.init()}o.prototype.init=function(){var i=this;var o=function(o){var s="",a;if(typeof o==="object"){o=o.data.toString()}if(n+i.name!==o.substring(0,o.indexOf("|cy|"))){return}o=o.slice((n+i.name).length+4);if(o.indexOf("CY_TYPE_OBJECT")>=0){s="object";o=o.replace("CY_TYPE_OBJECT","");o=e.parse(o)}if(t){for(a=0;a<i.listenFunc.length;a++){i.listenFunc[a](o)}}else{window.navigator.userListen[n+i.name+"|cy|"](o)}};if(t){if("addEventListener"in document){window.addEventListener("message",o,false)}else if("attachEvent"in document){window.attachEvent("onmessage",o)}}else{window.navigator.listenFunc[n+this.name+"|cy|"]=o}};o.prototype.post=function(o,s){var a="";if(typeof o!=="string"&&typeof o!=="object"){i.log("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6570\u636e\u7c7b\u578b;");return}if(typeof o=="object"){a="CY_TYPE_OBJECT";o=e.stringify(o)}o=a+o;if(o.length>=1e4){i.log("\u6570\u636e\u957f\u5ea6\u8d85\u8fc7\u9650\u5236");return}if(t){this.target.postMessage(n+s+"|cy|"+o,"*")}else{var r=window.navigator.listenFunc[n+s+"|cy|"];if(typeof r==="function"){r(n+s+"|cy|"+o)}}};o.prototype.listen=function(i){if(t){this.listenFunc.push(i)}else{window.navigator.userListen[n+this.name+"|cy|"]=i}};return o}();