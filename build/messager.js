window.Messager=function(){"use strict";var t="[PROJECT_NAME]",n="postMessage"in window,i=window.console||{log:function(t){alert(t)}};function e(i,e,o){if(!o){o="*"}this.listenFunc=[];if(!n){window.navigator.listenFunc=[]}this.target=e;this.origin=o;t=i||t;if(typeof t!=="string"){t=t.toString()}this.init()}e.prototype.init=function(){var i=this;var e=function(e){if(typeof e==="object"){e=e.data}if(t!==e.substring(0,e.indexOf("|cy|"))){return}e=e.slice(t.length+4);var o;if(n){for(o=0;o<i.listenFunc.length;o++){i.listenFunc[o](e)}}else{for(o=0;o<window.navigator.listenFunc.length;o++){window.navigator.listenFunc[o](e)}}};if(n){if("addEventListener"in document){window.addEventListener("message",e,false)}else if("attachEvent"in document){window.attachEvent("onmessage",e)}}else{window.navigator.listenFunc[t+"|cy|"]=e}};e.prototype.post=function(e){if(typeof e!=="string"){i.log("\u8bf7\u8f93\u5165\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u6570\u636e;");return}if(e.length>=1e4){i.log("\u6570\u636e\u957f\u5ea6\u8d85\u8fc7\u9650\u5236");return}if(n){this.target.postMessage(t+"|cy|"+e,this.origin)}else{var o=window.navigator.listenFunc[t+"|cy|"];if(typeof o==="function"){o(t+"|cy|"+e,this.target)}}};e.prototype.listen=function(t){if(n){this.listenFunc.push(t)}else{window.navigator.listenFunc.push(t)}};return e}();