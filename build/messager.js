window.Messager=function(){"use strict";var n="[PROJECT_NAME]",t="postMessage"in window,i=window.console||{log:function(n){alert(n)}};function e(i,e,s){if(!s){s="*"}this.listenFunc=[];if(!t){window.navigator.listenFunc=[]}this.target=e;this.origin=s;n=i||n;if(typeof n!=="string"){n=n.toString()}this.init()}e.prototype.init=function(){var i=this;var e=function(e){if(n!==e.substring(0,e.indexOf("|cy|"))){return}e=e.slice(n.length+4);var s;if(t){for(s=0;s<i.listenFunc.length;s++){i.listenFunc[s](e)}}else{for(s=0;s<window.navigator.listenFunc.length;s++){window.navigator.listenFunc[s](e)}}};if(t){if("addEventListener"in document){window.addEventListener("message",e,false)}else if("attachEvent"in document){window.attachEvent("onmessage",e)}}else{window.navigator.listenFunc[n+"|cy|"]=e}};e.prototype.post=function(e){if(typeof e!=="string"){i.log("\u8bf7\u8f93\u5165\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u6570\u636e;");return}if(e.length>=1e4){i.log("\u6570\u636e\u957f\u5ea6\u8d85\u8fc7\u9650\u5236");return}if(t){this.target.postMessage(n+"|cy|"+e,this.origin)}else{var s=window.navigator.listenFunc[n+"|cy|"];if(typeof s==="function"){s(n+"|cy|"+e,this.target)}}};e.prototype.listen=function(n){if(t){this.listenFunc.push(n)}else{window.navigator.listenFunc.push(n)}};return e}();